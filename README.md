<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Viva Banania! - Sistema Democr√°tico del Pueblo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B35',
                        secondary: '#F7931E',
                        tropical: '#00B4D8',
                        banana: '#FFD23F',
                        palm: '#06D6A0',
                        sunset: '#FF4081',
                    }
                }
            }
        }
    </script>
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .dark .glass {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .dark .gradient-bg {
            background: linear-gradient(135deg, #2D3748 0%, #1A202C 100%);
        }
    </style>
</head>
<body class="h-full bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation -->
    <nav class="glass sticky top-0 z-50 border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <span class="text-2xl mr-2">üèùÔ∏è</span>
                        <h1 class="text-xl font-bold text-primary">¬°Viva Banania!</h1>
                    </div>
                    <div class="hidden md:block ml-10">
                        <div class="flex items-baseline space-x-4">
                            <button onclick="showSection('dashboard')" class="nav-btn text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">üèñÔ∏è Plaza Central</button>
                            <button onclick="showSection('projects')" class="nav-btn text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">üèóÔ∏è Proyectos</button>
                            <button onclick="showSection('providers')" class="nav-btn text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">üë∑ Trabajadores</button>
                            <button onclick="showSection('wallet')" class="nav-btn text-gray-700 dark:text-gray-300 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">üå¥ Banco</button>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-600 dark:text-gray-400">
                        <span class="font-semibold">Carlos Mangueira</span>
                        <span class="block text-xs">Ciudadano #42069</span>
                    </div>
                    <div class="text-sm text-primary font-bold">
                        <span class="block">üçå 2.350 Bananas</span>
                        <span class="text-xs text-gray-500">cr√©ditos do povo</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <!-- Dashboard Section -->
        <div id="dashboard" class="section">
            <!-- El Presidente Message Banner -->
            <div id="presidentMessage" class="glass rounded-lg p-4 mb-6 bg-gradient-to-r from-primary to-secondary opacity-0 transition-all duration-1000">
                <div class="flex items-center">
                    <span class="text-3xl mr-3">üéØ</span>
                    <div>
                        <p class="text-white font-bold">Mensaje de El Presidente:</p>
                        <p class="text-white text-sm" id="messageText">¬°El pueblo de Banania es el m√°s democr√°tico del Caribe! ¬°Viva la transparencia!</p>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white">üèñÔ∏è Plaza Central de Banania</h2>
                <p class="text-gray-600 dark:text-gray-400">¬°Bienvenido a la Rep√∫blica Super Democr√°tica m√°s tropical del mundo!</p>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="glass rounded-lg p-6 bg-gradient-to-br from-banana/20 to-yellow-100/20">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <span class="text-3xl">üçå</span>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Bananas del Pueblo</p>
                            <p class="text-2xl font-bold text-gray-900 dark:text-white">2.350</p>
                        </div>
                    </div>
                </div>
                
                <div class="glass rounded-lg p-6 bg-gradient-to-br from-palm/20 to-green-100/20">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <span class="text-3xl">üèóÔ∏è</span>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Proyectos Apoyados</p>
                            <p class="text-2xl font-bold text-gray-900 dark:text-white">7</p>
                        </div>
                    </div>
                </div>
                
                <div class="glass rounded-lg p-6 bg-gradient-to-br from-tropical/20 to-blue-100/20">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <span class="text-3xl">‚≠ê</span>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Puntos Patri√≥ticos</p>
                            <p class="text-2xl font-bold text-gray-900 dark:text-white">1,245</p>
                        </div>
                    </div>
                </div>
                
                <div class="glass rounded-lg p-6 bg-gradient-to-br from-sunset/20 to-pink-100/20">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <span class="text-3xl">üèÜ</span>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Ranking Nacional</p>
                            <p class="text-2xl font-bold text-gray-900 dark:text-white">#42</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="glass rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Atividade Recente</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4">
                        <div class="flex items-center">
                            <div class="w-2 h-2 bg-green-500 rounded-full mr-3"></div>
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-white">Votou em "Nova Ponte Cidade"</p>
                                <p class="text-xs text-gray-500">R$ 500,00 ‚Ä¢ 2 horas atr√°s</p>
                            </div>
                        </div>
                        <span class="text-green-500 text-sm">+50 pontos</span>
                    </div>
                    <div class="flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4">
                        <div class="flex items-center">
                            <div class="w-2 h-2 bg-blue-500 rounded-full mr-3"></div>
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-white">Projeto "Reforma da Pra√ßa" finalizado</p>
                                <p class="text-xs text-gray-500">Prestador: Silva Constru√ß√µes ‚Ä¢ 1 dia atr√°s</p>
                            </div>
                        </div>
                        <span class="text-blue-500 text-sm">+100 pontos</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div id="projects" class="section hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white">üèóÔ∏è Proyectos de la Rep√∫blica</h2>
                    <p class="text-gray-600 dark:text-gray-400">¬°Construyamos juntos el para√≠so tropical que El Presidente sue√±a!</p>
                </div>
                <button onclick="showCreateProject()" class="bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg transition-colors">
                    <i class="fas fa-plus mr-2"></i>¬°Proponer Proyecto!
                </button>
            </div>

            <!-- Category Filter -->
            <div class="flex flex-wrap gap-2 mb-6">
                <button onclick="filterProjects('all')" class="filter-btn bg-primary text-white px-4 py-2 rounded-full text-sm">üå¥ Todos</button>
                <button onclick="filterProjects('infraestrutura')" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm">üåâ Infraestructura</button>
                <button onclick="filterProjects('saude')" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm">üè• Salud</button>
                <button onclick="filterProjects('educacao')" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm">üé≠ Cultura</button>
                <button onclick="filterProjects('meio-ambiente')" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm">üå∫ Ecolog√≠a</button>
            </div>

            <!-- Projects Grid -->
            <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Project cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Providers Section -->
        <div id="providers" class="section hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Prestadores</h2>
                    <p class="text-gray-600 dark:text-gray-400">Profissionais e empresas dispon√≠veis para execu√ß√£o</p>
                </div>
                <button onclick="showRegisterProvider()" class="bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg transition-colors">
                    <i class="fas fa-user-plus mr-2"></i>Cadastrar-se
                </button>
            </div>

            <!-- Providers Grid -->
            <div id="providers-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Provider cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Wallet Section -->
        <div id="wallet" class="section hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Carteira Digital</h2>
                <p class="text-gray-600 dark:text-gray-400">Gerencie seus cr√©ditos tribut√°rios</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Balance Card -->
                <div class="glass rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Saldo Atual</h3>
                    <div class="text-center py-8">
                        <p class="text-4xl font-bold text-primary mb-2">R$ 2.350,00</p>
                        <p class="text-gray-600 dark:text-gray-400">Cr√©ditos dispon√≠veis</p>
                        <div class="mt-4 space-x-4">
                            <button class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
                                <i class="fas fa-plus mr-2"></i>Adicionar
                            </button>
                            <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                                <i class="fas fa-history mr-2"></i>Hist√≥rico
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Transaction History -->
                <div class="glass rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">√öltimas Transa√ß√µes</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-white">Apoio - Nova Ponte</p>
                                <p class="text-xs text-gray-500">10/03/2024 14:30</p>
                            </div>
                            <span class="text-red-500 font-semibold">-R$ 500,00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-white">Recarga Mensal</p>
                                <p class="text-xs text-gray-500">01/03/2024 09:00</p>
                            </div>
                            <span class="text-green-500 font-semibold">+R$ 1.200,00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-white">Apoio - Pra√ßa Central</p>
                                <p class="text-xs text-gray-500">25/02/2024 16:45</p>
                            </div>
                            <span class="text-red-500 font-semibold">-R$ 300,00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Create Project Modal -->
    <div id="createProjectModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Criar Novo Projeto</h3>
                    <button onclick="hideCreateProject()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form onsubmit="createProject(event)">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">T√≠tulo</label>
                            <input type="text" id="projectTitle" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white text-base" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Categoria</label>
                            <select id="projectCategory" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white text-base">
                                <option value="infraestrutura">Infraestrutura</option>
                                <option value="saude">Sa√∫de</option>
                                <option value="educacao">Educa√ß√£o</option>
                                <option value="meio-ambiente">Meio Ambiente</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Descri√ß√£o</label>
                            <textarea id="projectDescription" rows="3" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white text-base" required></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Or√ßamento Estimado (R$)</label>
                            <input type="number" id="projectBudget" min="100" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white text-base" required>
                        </div>
                    </div>
                    <div class="flex justify-end space-x-3 mt-6">
                        <button type="button" onclick="hideCreateProject()" class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">Cancelar</button>
                        <button type="submit" class="px-4 py-2 bg-primary text-white hover:bg-secondary rounded">Criar Projeto</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Vote Modal -->
    <div id="voteModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Apoiar Projeto</h3>
                    <button onclick="hideVoteModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="voteContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Sample data - Projetos da Rep√∫blica Super Democr√°tica de Banania
        let projects = [
            {
                id: 1,
                title: "üåâ Puente El Presidente",
                category: "infraestrutura",
                description: "Majestuosa ponte sobre el R√≠o Banania para unir Puerto Mango con Villa Coco, gloria de nuestra rep√∫blica.",
                budget: 250000,
                raised: 180000,
                votes: 45,
                status: "funding",
                createdBy: "Comandante Pi√±a"
            },
            {
                id: 2,
                title: "üè• Hospital Tropical de la Salsa",
                category: "saude",
                description: "Renovaci√≥n completa del centro m√©dico m√°s importante de Banania, con aire acondicionado de primera clase.",
                budget: 120000,
                raised: 95000,
                votes: 32,
                status: "funding",
                createdBy: "Dr. Mango L√≥pez"
            },
            {
                id: 3,
                title: "üå¥ Parque Nacional del Pl√°tano",
                category: "meio-ambiente",
                description: "Santuario ecol√≥gico con senderos para iguanas, √°rea de descanso para turistas y hamacas bajo las palmeras.",
                budget: 80000,
                raised: 80000,
                votes: 67,
                status: "selecting-provider",
                createdBy: "Capit√°n Verde"
            },
            {
                id: 4,
                title: "üé≠ Teatro Nacional El Presidente",
                category: "educacao",
                description: "Gran teatro para celebrar la cultura y los discursos inspiradores de El Presidente. ¬°Con asientos de cuero!",
                budget: 150000,
                raised: 45000,
                votes: 28,
                status: "funding",
                createdBy: "Se√±ora Carmen Salsa"
            },
            {
                id: 5,
                title: "üèñÔ∏è Malec√≥n de la Democracia",
                category: "infraestrutura",
                description: "Hermoso paseo mar√≠timo donde los ciudadanos pueden reflexionar sobre las bendiciones de vivir en Banania.",
                budget: 200000,
                raised: 120000,
                votes: 89,
                status: "funding",
                createdBy: "Almirante Coco"
            }
        ];

        let providers = [
            {
                id: 1,
                name: "üî® Construcciones El Martillo de Oro",
                category: "infraestrutura",
                rating: 4.8,
                projects: 23,
                description: "Empresa l√≠der en obras de infraestrutura bendecida personalmente por El Presidente. ¬°15 a√±os de excelencia tropical!"
            },
            {
                id: 2,
                name: "‚öïÔ∏è MediTropic Reformas Hospitalarias",
                category: "saude",
                rating: 4.9,
                projects: 18,
                description: "Especialistas en hospitales y cl√≠nicas tropicales. Expertos en aire acondicionado para el calor caribenho."
            },
            {
                id: 3,
                name: "üå∫ EcoPara√≠so Paisajismo",
                category: "meio-ambiente",
                rating: 4.7,
                projects: 31,
                description: "Creadores de jardines paradis√≠acos dignos de Banania. Especialistas en palmeras y plantas tropicales."
            },
            {
                id: 4,
                name: "üé® Constructora Cultural Caribe√±a",
                category: "educacao",
                rating: 4.6,
                projects: 15,
                description: "Edificamos teatros, escuelas y centros culturales que har√≠an llorar de emoci√≥n a El Presidente."
            }
        ];

        // Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-primary', 'font-semibold');
                btn.classList.add('text-gray-700', 'dark:text-gray-300');
            });
            event.target.classList.add('text-primary', 'font-semibold');
        }

        // Projects functions
        function renderProjects(projectsToRender = projects) {
            const grid = document.getElementById('projects-grid');
            grid.innerHTML = '';
            
            projectsToRender.forEach(project => {
                const progressPercentage = (project.raised / project.budget) * 100;
                const statusBadge = project.status === 'funding' ? 
                    '<span class="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs font-medium px-2.5 py-0.5 rounded">Arrecadando</span>' :
                    '<span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded">Selecionando Prestador</span>';
                
                const card = document.createElement('div');
                card.className = 'glass rounded-lg p-6 project-card';
                card.setAttribute('data-category', project.category);
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${project.title}</h3>
                        ${statusBadge}
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">${project.description}</p>
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-600 dark:text-gray-400">Arrecadado</span>
                            <span class="font-semibold text-gray-900 dark:text-white">R$ ${project.raised.toLocaleString()} / R$ ${project.budget.toLocaleString()}</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: ${progressPercentage}%"></div>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-500"><i class="fas fa-users mr-1"></i>${project.votes} apoiadores</span>
                        <button onclick="openVoteModal(${project.id})" class="bg-primary hover:bg-secondary text-white px-4 py-2 rounded-lg text-sm ${project.status !== 'funding' ? 'opacity-50 cursor-not-allowed' : ''}" ${project.status !== 'funding' ? 'disabled' : ''}>
                            <i class="fas fa-heart mr-1"></i>Apoiar
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterProjects(category) {
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
            });
            event.target.classList.add('bg-primary', 'text-white');
            event.target.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
            
            // Filter projects
            if (category === 'all') {
                renderProjects();
            } else {
                const filteredProjects = projects.filter(project => project.category === category);
                renderProjects(filteredProjects);
            }
        }

        // Providers functions
        function renderProviders() {
            const grid = document.getElementById('providers-grid');
            grid.innerHTML = '';
            
            providers.forEach(provider => {
                const card = document.createElement('div');
                card.className = 'glass rounded-lg p-6';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${provider.name}</h3>
                        <div class="flex items-center text-yellow-500">
                            <i class="fas fa-star text-sm"></i>
                            <span class="ml-1 text-sm font-semibold">${provider.rating}</span>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">${provider.description}</p>
                    <div class="flex justify-between items-center text-sm text-gray-500 mb-4">
                        <span><i class="fas fa-hammer mr-1"></i>${provider.projects} projetos</span>
                        <span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs">${provider.category}</span>
                    </div>
                    <button class="w-full bg-primary hover:bg-secondary text-white py-2 rounded-lg text-sm">
                        <i class="fas fa-eye mr-1"></i>Ver Perfil
                    </button>
                `;
                grid.appendChild(card);
            });
        }

        // Modal functions
        function showCreateProject() {
            document.getElementById('createProjectModal').classList.remove('hidden');
        }

        function hideCreateProject() {
            document.getElementById('createProjectModal').classList.add('hidden');
            document.getElementById('projectTitle').value = '';
            document.getElementById('projectDescription').value = '';
            document.getElementById('projectBudget').value = '';
        }

        function createProject(event) {
            event.preventDefault();
            
            const title = document.getElementById('projectTitle').value;
            const category = document.getElementById('projectCategory').value;
            const description = document.getElementById('projectDescription').value;
            const budget = parseInt(document.getElementById('projectBudget').value);
            
            const newProject = {
                id: projects.length + 1,
                title,
                category,
                description,
                budget,
                raised: 0,
                votes: 0,
                status: 'funding',
                createdBy: 'Jo√£o Silva'
            };
            
            projects.unshift(newProject);
            hideCreateProject();
            renderProjects();
            
            // Show success message (custom modal instead of alert)
            showSuccessMessage('Projeto criado com sucesso!');
        }

        function openVoteModal(projectId) {
            const project = projects.find(p => p.id === projectId);
            if (!project || project.status !== 'funding') return;
            
            const modal = document.getElementById('voteModal');
            const content = document.getElementById('voteContent');
            
            content.innerHTML = `
                <div class="mb-4">
                    <h4 class="font-semibold text-gray-900 dark:text-white">${project.title}</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">${project.description}</p>
                </div>
                <div class="mb-4">
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Meta: R$ ${project.budget.toLocaleString()}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Arrecadado: R$ ${project.raised.toLocaleString()}</p>
                </div>
                <form onsubmit="submitVote(event, ${projectId})">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Valor do Apoio (R$)</label>
                        <input type="number" id="voteAmount" min="10" max="2350" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:text-white text-base" required>
                        <p class="text-xs text-gray-500 mt-1">Saldo dispon√≠vel: R$ 2.350,00</p>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="hideVoteModal()" class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">Cancelar</button>
                        <button type="submit" class="px-4 py-2 bg-primary text-white hover:bg-secondary rounded">Confirmar Apoio</button>
                    </div>
                </form>
            `;
            
            modal.classList.remove('hidden');
        }

        function hideVoteModal() {
            document.getElementById('voteModal').classList.add('hidden');
        }

        function submitVote(event, projectId) {
            event.preventDefault();
            
            const amount = parseInt(document.getElementById('voteAmount').value);
            const project = projects.find(p => p.id === projectId);
            
            if (project) {
                project.raised += amount;
                project.votes += 1;
                
                if (project.raised >= project.budget) {
                    project.status = 'selecting-provider';
                }
                
                renderProjects();
                hideVoteModal();
                showSuccessMessage(`Apoio de R$ ${amount.toLocaleString()} confirmado!`);
            }
        }

        function showRegisterProvider() {
            showSuccessMessage('Funcionalidade de cadastro de prestador em desenvolvimento!');
        }

        function showSuccessMessage(message) {
            const successModal = document.createElement('div');
            successModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            successModal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-check-circle text-green-500 text-2xl mr-3"></i>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Sucesso!</h3>
                    </div>
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${message}</p>
                    <button onclick="this.closest('.fixed').remove()" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary">OK</button>
                </div>
            `;
            document.body.appendChild(successModal);
            
            setTimeout(() => {
                successModal.remove();
            }, 3000);
        }

        // El Presidente Messages System
        const presidentMessages = [
            "¬°El pueblo de Banania es el m√°s democr√°tico del Caribe! ¬°Viva la transparencia!",
            "En Banania, cada banana cuenta para el progreso de la naci√≥n. ¬°El Presidente est√° orgulloso!",
            "¬°Ciudadanos! Sus contribuciones hacen de Banania el para√≠so tropical m√°s pr√≥spero.",
            "El Presidente bendice personalmente cada proyecto aprobado por el pueblo sabio de Banania.",
            "¬°La democracia tropical nunca hab√≠a sido tan dulce como en nuestra querida Banania!",
            "¬°Banania es ejemplo mundial de transparencia! Otros pa√≠ses nos envidian, ¬°por supuesto!",
            "¬°El oro y las bananas de nuestro pueblo financian el futuro m√°s brillante del Caribe!",
            "¬°En Banania no hay corrupci√≥n porque El Presidente vigila personalmente cada banana!",
            "¬°Los proyectos del pueblo son los proyectos de El Presidente! ¬°Viva la unidad nacional!",
            "¬°Banania demuestra que la democracia y las palmeras van de la mano hacia la prosperidad!"
        ];

        let currentMessageIndex = 0;

        function showPresidentMessage() {
            const messageElement = document.getElementById('presidentMessage');
            const textElement = document.getElementById('messageText');
            
            // Fade out
            messageElement.style.opacity = '0';
            
            setTimeout(() => {
                // Change message
                textElement.textContent = presidentMessages[currentMessageIndex];
                currentMessageIndex = (currentMessageIndex + 1) % presidentMessages.length;
                
                // Fade in
                messageElement.style.opacity = '1';
                
                // Schedule fade out
                setTimeout(() => {
                    messageElement.style.opacity = '0';
                }, 4000);
                
            }, 500);
        }

        // Start president messages after 2 seconds, then every 8 seconds
        setTimeout(() => {
            showPresidentMessage();
            setInterval(showPresidentMessage, 8000);
        }, 2000);

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            renderProjects();
            renderProviders();
        });
    </script>
</body>
</html>
